{"version":3,"file":"component---src-templates-post-template-tsx-2ac511e95550f805cf49.js","mappings":"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","sources":["webpack://gatsby-starter-blog/./src/hooks/useIntersactionObserver.tsx","webpack://gatsby-starter-blog/./src/components/post/TOC.tsx","webpack://gatsby-starter-blog/./src/components/post/PostContent.tsx","webpack://gatsby-starter-blog/./src/components/post/PostHeader.tsx","webpack://gatsby-starter-blog/./src/components/post/Comments.tsx","webpack://gatsby-starter-blog/./src/templates/PostTemplate.tsx"],"sourcesContent":["import { useCallback } from \"react\"\n\nconst IODefaultOptions = {\n  root: null,\n  rootMargin: \"-50% 0px -50% 0px\",\n  threshold: 0,\n}\n\ntype DoWhenIntersectFunction = (\n  entries: IntersectionObserverEntry[],\n  observer: any\n) => void\n\nlet observer: IntersectionObserver\n\nexport const useIntersectionObserver = () => {\n  const addIntersectHandler = useCallback(\n    (\n      targets: any[],\n      options = IODefaultOptions,\n      doWhenIntersect: DoWhenIntersectFunction\n    ) => {\n      observer = new IntersectionObserver(doWhenIntersect, options)\n      targets.forEach(el => {\n        observer.observe(el)\n      })\n    },\n    []\n  )\n\n  const removeIntersectHandler = useCallback(() => {\n    observer.disconnect()\n  }, [])\n\n  return {\n    addIntersectHandler,\n    removeIntersectHandler,\n  }\n}\n","import React from \"react\"\ninterface IHeadings {\n  id: string\n  text: string\n  level: number\n  focus: boolean\n}\nconst TOC = ({ headings }: { headings: IHeadings[] }) => {\n  return (\n    <div className=\"sticky top-20 h-full whitespace-nowrap w-1/4 pl-10 lg:flex hidden sidebar\">\n      <div className=\"border-l-[.5px] border-Grayscale/30 flex flex-col\">\n        {headings.map(({ id, level, text, focus }, idx) => (\n          <a\n            href={\"#\" + id}\n            className={`${\"level-\" + level} ${\n              focus ? \"focus\" : \"\"\n            } hover:text-text-color`}\n            key={idx}\n          >\n            {text}\n          </a>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default TOC\n","import React, { useEffect, useState } from \"react\"\nimport { useIntersectionObserver } from \"../../hooks/useIntersactionObserver\"\nimport { IHeadings } from \"src/types/Post.type\"\nimport TOC from \"./TOC\"\nconst PostContent = ({ html }: { html: string }) => {\n  const [headings, setHeadings] = React.useState<IHeadings[]>([])\n  const [activeId, setActiveId] = useState(\"\")\n  useEffect(() => {\n    const headingElements = document.querySelectorAll(\"h1, h2, h3\")\n    const headings = Array.from(headingElements).map(headingElement => ({\n      id: headingElement.getAttribute(\"id\") || \"\",\n      text: headingElement.textContent || \"\",\n      level: Number(headingElement.tagName.charAt(1)),\n      focus: headingElement.getAttribute(\"id\") === activeId,\n    }))\n    setHeadings(headings)\n  }, [activeId])\n\n  const { addIntersectHandler, removeIntersectHandler } =\n    useIntersectionObserver()\n\n  useEffect(() => {\n    const targetElements = headings\n      .map(info => document.getElementById(info.id)) // Use info.id instead of info.text\n      .filter(el => el !== null) // Filter out null values\n    addIntersectHandler(\n      targetElements,\n      {\n        root: null,\n        rootMargin: \"0px 0px -95% 0px\",\n        threshold: 0,\n      },\n      (entries: any, observer: any) => {\n        entries.forEach((entry: any) => {\n          if (entry.isIntersecting && entry.target?.id) {\n            setActiveId(entry.target?.id)\n          }\n        })\n      }\n    )\n    return () => {\n      removeIntersectHandler()\n    }\n  }, [addIntersectHandler, removeIntersectHandler, headings])\n  return (\n    <div className=\"w-full h-full pt-40 pb-20 relative flex flex-row lg:justify-end justify-center\">\n      <div\n        className=\"lg:w-1/2 w-4/5 markdown\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n      <TOC headings={headings} />\n    </div>\n  )\n}\n\nexport default PostContent\n","import { GatsbyImage } from \"gatsby-plugin-image\"\nimport React from \"react\"\nimport { IPostFrontmatter } from \"src/types/PostItem.type\"\n\nconst PostHeader = ({\n  title,\n  thumbnail: {\n    childImageSharp: { gatsbyImageData },\n  },\n  date,\n  tags,\n}: IPostFrontmatter) => {\n  return (\n    <div className=\"h-[30rem] mt-16 w-full relative flex justify-center items-center bg-black\">\n      <GatsbyImage\n        image={gatsbyImageData}\n        className=\"w-full h-full object-cover absolute opacity-40\"\n        alt=\"img\"\n      />\n      <div className=\"absolute flex flex-col items-center\">\n        <span className=\"lg:text-4xl text-3xl text-center text-white font-bold\">\n          {title}\n        </span>\n        <span className=\"text-sm text-white mt-2\">{date}</span>\n        <span className=\"text-sm text-white mt-2\">{tags?.join(\"/\")}</span>\n      </div>\n    </div>\n  )\n}\nexport default PostHeader\n","import React, { createRef, useLayoutEffect } from \"react\"\nconst src = \"https://utteranc.es/client.js\"\nexport interface IUtterancesProps {\n  repo: string\n  theme: string\n}\nconst Comments: React.FC<IUtterancesProps> = React.memo(({ repo, theme }) => {\n  const containerRef = createRef<HTMLDivElement>()\n  useLayoutEffect(() => {\n    const utterances = document.createElement(\"script\")\n    const attributes = {\n      src,\n      repo,\n      theme,\n      \"issue-term\": \"pathname\",\n      label: \"âœ¨ðŸ’¬ comments âœ¨\",\n      crossOrigin: \"anonymous\",\n      async: \"true\",\n    }\n\n    Object.entries(attributes).forEach(([key, value]) => {\n      utterances.setAttribute(key, value)\n    })\n\n    containerRef.current!.appendChild(utterances)\n  }, [repo])\n\n  return <div className=\"w-full\" ref={containerRef} />\n})\n\nComments.displayName = \"Utterances\"\n\nexport default Comments\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport { IPostItem } from \"src/types/PostItem.type\"\nimport PostContent from \"../components/post/PostContent\"\nimport PostHeader from \"../components/post/PostHeader\"\nimport Comments from \"../components/post/Comments\"\nimport { useRecoilValue } from \"recoil\"\nimport { themeState } from \"../state/Theme\"\nimport Layout from \"../components/shared/Layout\"\nimport Seo from \"../components/shared/seo\"\ninterface IPostTemplateProps {\n  data: {\n    allMarkdownRemark: {\n      nodes: IPostItem[]\n    }\n  }\n}\nconst PostTemplate = ({\n  data: {\n    allMarkdownRemark: { nodes },\n  },\n}: IPostTemplateProps) => {\n  const { html, frontmatter } = nodes[0]\n  const theme = useRecoilValue(themeState)\n  return (\n    <>\n      <Seo title={frontmatter.title} description={frontmatter.description} />\n      <Layout width=\"w-full\" itemCenter=\"items-center\">\n        <PostHeader {...frontmatter} />\n        <PostContent html={html} />\n        <Comments\n          repo=\"DoHi0512/DoHi0512.github.io\"\n          theme={`github-${theme}`}\n        />\n      </Layout>\n    </>\n  )\n}\n\nexport default PostTemplate\n\nexport const queryMarkdownDataBySlug = graphql`\n  query queryMarkdownDataBySlug($slug: String) {\n    allMarkdownRemark(filter: { fields: { slug: { eq: $slug } } }) {\n      nodes {\n        html\n        frontmatter {\n          title\n          date(formatString: \"YYYY.MM.DD\")\n          tags\n          thumbnail {\n            childImageSharp {\n              gatsbyImageData(width: 768, height: 400)\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["IODefaultOptions","root","rootMargin","threshold","observer","_ref","headings","React","className","map","_ref2","idx","id","level","text","focus","href","key","html","setHeadings","activeId","setActiveId","useState","useEffect","headingElements","document","querySelectorAll","Array","from","headingElement","getAttribute","textContent","Number","tagName","charAt","addIntersectHandler","removeIntersectHandler","useCallback","targets","options","doWhenIntersect","IntersectionObserver","forEach","el","observe","disconnect","targetElements","info","getElementById","filter","entries","entry","_entry$target","_entry$target2","isIntersecting","target","dangerouslySetInnerHTML","__html","TOC","title","thumbnail","childImageSharp","gatsbyImageData","date","tags","GatsbyImage","image","alt","join","Comments","repo","theme","containerRef","createRef","useLayoutEffect","utterances","createElement","attributes","src","label","crossOrigin","async","Object","value","setAttribute","current","appendChild","ref","displayName","data","allMarkdownRemark","nodes","frontmatter","useRecoilValue","themeState","Seo","description","Layout","width","itemCenter","PostHeader","PostContent"],"sourceRoot":""}